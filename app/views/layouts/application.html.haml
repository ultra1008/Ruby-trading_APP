!!!
%html
  %head
    %title= @title || yield(:title)

    %meta{:content => "text/html; charset=UTF-8", "http-equiv" => "Content-Type"}/

    %link(rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css")

    = csrf_meta_tags
    = csp_meta_tag
    = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload'
    = javascript_include_tag 'application', 'data-turbolinks-track': 'reload'

  %body

    %nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      = link_to ApplicationController::APP_NAME, { :controller => 'static_page', action: 'home' }, :class => 'navbar-brand'
      %button(class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation")
        %span.navbar-toggler-icon
      #navbarNavDropdown.collapse.navbar-collapse.justify-content-end
        %ul.navbar-nav.text-right
          %li.nav-item.active
            = link_to "Home", { :controller => 'static_page', :action => 'home'}, :class => 'nav-link'
          %li.nav-item.active
            = link_to "Buy", { :controller => 'sell_posts' }, :class => 'nav-link', id: 'nav-buy'
          %li.nav-item.active
            = link_to "Sell", { :controller => 'buy_posts' }, :class => 'nav-link', id: 'nav-sell'
          %li.nav-item.active
            = link_to 'About', { :controller => 'static_page', :action => 'about' }, :class => 'nav-link'
          %li.nav-item.active.dropdown
            %a(class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false") Account
            %div(class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink")
              - if @current_user
                = link_to 'My Account', { :controller => 'users' }, :class => 'dropdown-item'
                = link_to 'Logout', { :controller => 'sessions', :action => 'destroy' }, :class => 'dropdown-item'
              - else
                = link_to 'Login', { :controller => 'users', :action => 'login' }, :class => 'dropdown-item'
                = link_to 'Register', { :controller => 'users', :action => 'new' }, :class => 'dropdown-item', :id => 'register-link'

    #main
      - if flash[:notice]
        %div.alert.alert-danger
          #notice.message= flash[:notice]
      - elsif flash[:warning]
        %div.alert.alert-danger
          #warning.message= flash[:warning]
    = yield
